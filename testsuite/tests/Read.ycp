/**
 * File:
 *  AddGroup.ycp
 *
 * Module:
 *  Users configurator
 *
 * Summary:
 *  Saving group tests.
 *
 * Authors:
 *  Jiri Suchomel <jsuchome@suse.cz>
 *
 */

{

    include "testsuite.ycp";
    import "Users";
//    import "Security";
    import "Mode";

    map READ = $[
	"passwd": $[
	    "local": $[
		"users": $[
		    500: $[
			"username":	"hh"
		    ],
		    "by_name": $[
			"hh":	500,
		    ],
		    "last_uid": 500,
		    "homes":	$[
			"/home/hh":	1,
		    ],
		    "usernames": $[
			"hh":		1,
		    ],
		    "uids": $[
			500:		1,
		    ]
		],
		"shadow": $[
		],
		"groups": $[
		    100: $[
			"groupname":	"users",
		    ],
		    "by_name": $[
			"users":	100,
		    ],
		    "gids": $[
			100:		1,
		    ],
		    "groupnames": $[
			"users":	1,
		    ]
		],
	    ],
	    "system": $[
		"users": $[
		    "by_name": $[
		    ],
		    "last_uid": 0,
		    "homes":	$[],
		    "usernames": $[],
		    "uids": $[],
		],
		"shadow": $[
		],
		"groups": $[
		    "by_name": $[
		    ],
		    "gids": $[ ],
		    "groupnames": $[ ]
		],
	    ],
	],
	"etc" : $[
	    "fstab": [],
	    "cryptotab": [],
	]
    ];
    map WRITE = $[];
    map EXEC = $[
	"target" : $[
	    "bash" :	0,
	    "bash_output" : $[],
	],
    ];

    DUMP ("==========================================================");

    Mode::test = true;

    TEST (``(Users::Read ()), [READ, WRITE, EXEC], 0);

    DUMP ("==========================================================");
}
