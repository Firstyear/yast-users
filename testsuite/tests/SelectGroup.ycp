{

    include "testsuite.ycp";
    map I_READ = $[
	"target" : $[
	    "size" : -1,
	    "tmpdir" : "/tmp/",
	    "yast2" : nil,
	],
	"sysconfig" : $[
	    "console" : $[
		"CONSOLE_FONT" : "",
		"CONSOLE_SCREENMAP" : "",
		"CONSOLE_UNICODEMAP" : "",
		"CONSOLE_MAGIC" : "",
		"CONSOLE_ENCODING" : "",
	    ],
	    "language" : $[
		"RC_LANG" : "",
		"DEFAULT_LANGUAGE" : "",
	    ],
	],
	"etc" : $[
	    "install_inf" : $[
		"Cmdline" : "",
		"InstMode" : nil,
	    ],
	],
	"probe" : $[
	    "architecture" : "i386",
	    "has_apm" : true,
	    "has_pcmcia" : false,
	    "has_smp" : false,
	    "system" : [],
	    "memory" : [],
	    "cpu" : [],
	    "cdrom" : $[
		"manual" : [],
	    ],
	    "floppy" : $[
		"manual" : [],
	    ],
	],
    ];
    map I_WRITE = $[];
    map I_EXEC = $[];
    TESTSUITE_INIT ([I_READ, I_WRITE, I_EXEC], 0);

    import "Users";

    Users::groups ["local" ] = $[
        100: $[ "groupname": "users", "userlist":"", "more_users": "hh","type": "local" ],
        17:  $[ "groupname": "audio", "userlist":"hh", "more_users": "","type": "local" ]
    ];

    Users::groups ["ldap" ] = $[
        100: $[ "groupname": "users", "userlist":"", "more_users": "u1,u2","type": "ldap" ]
    ];

    DUMP (sformat ("local groups::\n %1", Users::groups ["local"]:$[]));

    DUMP (sformat ("ldap groups::\n %1", Users::groups ["ldap"]:$[]));

    DUMP ("==========================================================");

    Users::current_groups = ["local", "ldap"];

    integer gid = 17;

    TEST(``(Users::SelectGroup (gid)), [], 0);

    DUMP (sformat ("selected group with id %1:\n %2",gid,Users::group_in_work));

    DUMP ("==========================================================");

    gid = 100;

    TEST(``(Users::SelectGroup (gid)), [], 0);

    DUMP (sformat ("selected group with id %1:\n %2",gid,Users::group_in_work));


}
